---
import { getCategories, PRIORITY_CATEGORIES } from '../lib/data';

const allCategories = await getCategories();
const currentYear = new Date().getFullYear();

const categoryMap = new Map();
allCategories.forEach(cat => {
  categoryMap.set(cat.name.toLowerCase(), cat);
});

const categories = PRIORITY_CATEGORIES
  .map(name => categoryMap.get(name.toLowerCase()))
  .filter(Boolean);
---

<footer class="bg-black text-white pt-16 pb-8 border-t border-gray-800">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
      <!-- Brand & Info -->
      <div class="col-span-1 md:col-span-1">
        <a href="/" class="flex flex-col mb-6">
          <div class="text-2xl font-serif font-bold tracking-tighter leading-none text-white">
            KOMPAS<span class="text-orange-500">.com</span>
          </div>
          <span class="text-[9px] text-gray-400 tracking-[0.2em] uppercase mt-1">Jernih Melihat Dunia</span>
        </a>
        <p class="text-gray-400 text-sm leading-relaxed">
          Platform berita terdepan yang menyajikan informasi terkini, akurat, dan terpercaya dari seluruh penjuru nusantara.
        </p>
      </div>
      
      <!-- Dynamic Categories -->
      <div>
        <h3 class="text-sm font-bold uppercase tracking-widest text-white mb-6">Kategori</h3>
        <ul class="space-y-3">
          {categories.slice(0, 6).map((category) => (
            <li>
              <a href={`/category/${category.slug}`} class="text-gray-400 hover:text-orange-500 transition-colors text-sm">
                {category.name}
              </a>
            </li>
          ))}
          <li>
            <a href="/category" class="text-blue-500 hover:text-blue-400 transition-colors text-xs font-bold uppercase tracking-wider">
              Lihat Semua Kategori &rarr;
            </a>
          </li>
        </ul>
      </div>

      <!-- Quick Links -->
      <div>
        <h3 class="text-sm font-bold uppercase tracking-widest text-white mb-6">Informasi</h3>
        <ul class="space-y-3 text-sm">
          <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Tentang Kami</a></li>
          <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Redaksi</a></li>
          <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Pedoman Media Siber</a></li>
          <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Kontak</a></li>
        </ul>
      </div>

      <!-- Newsletter -->
      <div>
        <h3 class="text-sm font-bold uppercase tracking-widest text-white mb-6">Newsletter</h3>
        <p class="text-gray-400 text-sm mb-4">Dapatkan update berita harian langsung di email Anda.</p>
        <form class="flex flex-col gap-2">
          <input 
            type="email" 
            placeholder="Email Anda" 
            class="bg-[#1F1F1F] border border-gray-700 px-4 py-2.5 rounded text-white text-sm focus:outline-none focus:border-blue-500 transition-colors" 
          />
          <button class="bg-blue-600 px-4 py-2.5 rounded text-white text-sm font-bold hover:bg-blue-700 transition-all uppercase tracking-wider">
            Berlangganan
          </button>
        </form>
      </div>
    </div>
    
    <div class="pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4">
      <p class="text-[11px] text-gray-500 font-medium uppercase tracking-[0.1em]">
        &copy; {currentYear} KOMPAS.com (Cloned). All rights reserved.
      </p>
      <div class="flex items-center gap-6">
        <a href="#" class="text-gray-500 hover:text-white transition-colors"><span class="sr-only">Facebook</span><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></a>
        <a href="#" class="text-gray-500 hover:text-white transition-colors"><span class="sr-only">Twitter</span><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path></svg></a>
        <a href="#" class="text-gray-500 hover:text-white transition-colors"><span class="sr-only">Instagram</span><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2c2.717 0 3.056.01 4.122.058 1.066.048 1.79.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.637.417 1.361.465 2.427.048 1.066.058 1.36.058 4.122 0 2.717-.01 3.056-.058 4.122-.048 1.066-.217 1.79-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.637.247-1.361.417-2.427.465-1.066.048-1.36.058-4.122.058-2.717 0-3.056-.01-4.122-.058-1.066-.048-1.79-.217-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.637-.417-1.361-.465-2.427-.048-1.066-.058-1.36-.058-4.122 0-2.717.01-3.056.058-4.122.048-1.066.217-1.79.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 3.55c.637-.247 1.361-.417 2.427-.465C8.944 2.01 9.24 2 12 2m0-2C8.835 0 8.411.01 7.152.067 5.892.11 4.756.287 3.736.685a6.903 6.903 0 00-2.49 1.623A6.903 6.903 0 00.38 4.798c-.398 1.02-.575 2.156-.632 3.416C-.316 9.474-.326 9.897-.326 13.062 0 16.227.01 16.65.067 17.91c.057 1.26.234 2.396.632 3.416a6.903 6.903 0 001.623 2.49 6.903 6.903 0 002.49 1.623c1.02.398 2.156.575 3.416.632 1.26.057 1.683.067 4.848.067 3.165 0 3.588-.01 4.848-.067 1.26-.057 2.396-.234 3.416-.632a6.903 6.903 0 002.49-1.623 6.903 6.903 0 001.623-2.49c.398-1.02.575-2.156.632-3.416.057-1.26.067-1.683.067-4.848 0-3.165-.01-3.588-.067-4.848-.057-1.26-.234-2.396-.632-3.416a6.903 6.903 0 00-1.623-2.49 6.903 6.903 0 00-2.49-1.623c-1.02-.398-2.156-.575-3.416-.632C15.65.01 15.227 0 12.062 0z"></path><path d="M12 5.838a6.162 6.162 0 106.162 6.162A6.162 6.162 0 0012 5.838m0 10.162a4 4 0 114-4 4 4 0 01-4 4"></path><path d="M18.437 5.563a1.44 1.44 0 101.44 1.44 1.44 1.44 0 00-1.44-1.44"></path></svg></a>
      </div>
    </div>
  </div>
</footer>
